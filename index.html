<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏´‡∏∏‡πâ‡∏ô Panic on Wall Street</title>
  <style>
    /* CSS ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô */
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      max-width: 700px;
      margin: 2rem auto;
      padding: 0 1rem;
      text-align: center;
      background: #f0f4f8;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 0.3rem;
    }
    .header p {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .board {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    .stock-card {
      background: white;
      padding: 1rem;
      border-radius: 15px;
      box-shadow: 0 4px 8px rgb(0 0 0 / 0.1);
      border: 1px solid #ddd;
    }
    .stock-card h2 {
      margin-bottom: 0.5rem;
    }
    .price {
      font-size: 1.5rem;
      color: #333;
      margin-bottom: 0.3rem;
    }
    .change {
      font-weight: bold;
      font-size: 1.1rem;
      margin-top: 0;
    }
    .positive {
      color: #16a34a; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß */
    }
    .negative {
      color: #dc2626; /* ‡∏™‡∏µ‡πÅ‡∏î‡∏á */
    }
    .neutral {
      color: #6b7280; /* ‡∏™‡∏µ‡πÄ‡∏ó‡∏≤ */
    }
    button {
      background-color: #2563eb;
      color: white;
      border: none;
      padding: 0.7rem 1.5rem;
      font-size: 1rem;
      border-radius: 12px;
      cursor: pointer;
      margin: 0 0.5rem;
      box-shadow: 0 4px 6px rgb(37 99 235 / 0.5);
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #1e40af;
    }
  </style>
</head>
<body>

  <div class="container">
    <div class="header">
      <h1>üìä ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏´‡∏∏‡πâ‡∏ô Panic on Wall Street</h1>
      <p>‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà <span id="round">1</span></p>
    </div>

    <div class="board" id="board"></div>

    <button id="randomizeBtn">üé≤ ‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤‡∏´‡∏∏‡πâ‡∏ô‡∏£‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà</button>
    <button id="resetBtn">üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡∏ï‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏´‡∏∏‡πâ‡∏ô</button>
  </div>

<script>
  // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏´‡∏∏‡πâ‡∏ô
  const initialStocks = [
    { name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÅ‡∏î‡∏á ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏°‡∏≤‡∏Å", price: 7, color: "red" },
    { name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", price: 5, color: "blue" },
    { name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á", price: 3, color: "green" },
    { name: "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ô‡πâ‡∏≠‡∏¢", price: 1, color: "yellow" },
  ];

  // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
  let round = 1;
  let stocks = JSON.parse(JSON.stringify(initialStocks)); // deep copy

  const roundEl = document.getElementById('round');
  const boardEl = document.getElementById('board');
  const randomizeBtn = document.getElementById('randomizeBtn');
  const resetBtn = document.getElementById('resetBtn');

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏∏‡πà‡∏° delta ‡∏ï‡∏≤‡∏°‡∏™‡∏µ‡∏´‡∏∏‡πâ‡∏ô
  function getDeltaByColor(color) {
    switch (color) {
      case "red":
        return Math.floor(Math.random() * 15) - 7;  // -7 ‡∏ñ‡∏∂‡∏á +7
      case "blue":
        return Math.floor(Math.random() * 11) - 5;  // -5 ‡∏ñ‡∏∂‡∏á +5
      case "green":
        return Math.floor(Math.random() * 7) - 3;   // -3 ‡∏ñ‡∏∂‡∏á +3
      case "yellow":
        return Math.floor(Math.random() * 3) - 1;   // -1 ‡∏ñ‡∏∂‡∏á +1
      default:
        return 0;
    }
  }

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏´‡∏∏‡πâ‡∏ô‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
  function renderStocks() {
    boardEl.innerHTML = ""; // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤

    stocks.forEach(stock => {
      const card = document.createElement("div");
      card.className = "stock-card";

      const title = document.createElement("h2");
      title.textContent = stock.name;

      const price = document.createElement("p");
      price.className = "price";
      price.textContent = `üí∞ $${stock.price}`;

      const change = document.createElement("p");
      change.className = "change";

      if (stock.change > 0) {
        change.textContent = `+${stock.change}`;
        change.classList.add("positive");
      } else if (stock.change < 0) {
        change.textContent = stock.change;
        change.classList.add("negative");
      } else {
        change.textContent = "0";
        change.classList.add("neutral");
      }

      card.appendChild(title);
      card.appendChild(price);
      card.appendChild(change);
      boardEl.appendChild(card);
    });
  }

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏Ñ‡∏≤‡∏´‡∏∏‡πâ‡∏ô
  function updatePrices() {
    stocks = stocks.map(stock => {
      const delta = getDeltaByColor(stock.color);
      return {
        ...stock,
        price: Math.max(1, stock.price + delta),
        change: delta,
      };
    });
    round++;
    roundEl.textContent = round;
    renderStocks();
  }

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏µ‡πÄ‡∏ã‡∏ï‡πÄ‡∏Å‡∏°
  function resetGame() {
    stocks = JSON.parse(JSON.stringify(initialStocks));
    round = 1;
    roundEl.textContent = round;
    renderStocks();
  }

  // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
  renderStocks();

  // event listeners
  randomizeBtn.addEventListener('click', updatePrices);
  resetBtn.addEventListener('click', resetGame);
</script>

</body>
</html>
